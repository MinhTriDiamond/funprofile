
# ğŸŒŸ Káº¾ HOáº CH TÃCH Há»¢P PPLP & MINT FUN MONEY

## ğŸ“‹ Tá»•ng Quan Dá»± Ãn

Triá»ƒn khai há»‡ thá»‘ng **Proof of Pure Love Protocol (PPLP)** trong FUN Profile, sá»­ dá»¥ng **ANGEL AI** Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ hoáº¡t Ä‘á»™ng ngÆ°á»i dÃ¹ng, tÃ­nh **Light Score**, vÃ  xÃ¡c Ä‘á»‹nh Ä‘iá»u kiá»‡n mint **FUN Money** lÃªn smart contract Ä‘Ã£ deploy trÃªn BSC Testnet.

---

## ğŸ¯ Má»¥c TiÃªu ChÃ­nh

| Má»¥c tiÃªu | MÃ´ táº£ |
|----------|-------|
| Light Score Engine | TÃ­nh Ä‘iá»ƒm dá»±a trÃªn 5 Pillars of Light |
| ANGEL AI Evaluation | AI Ä‘Ã¡nh giÃ¡ cháº¥t lÆ°á»£ng Ä‘Ã³ng gÃ³p |
| Mint Eligibility | XÃ¡c Ä‘á»‹nh Ä‘iá»u kiá»‡n mint FUN Money |
| On-chain Integration | Gá»i smart contract FUN Money trÃªn testnet |

---

## ğŸ—ï¸ Kiáº¿n TrÃºc Há»‡ Thá»‘ng

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER ACTIVITY LAYER                          â”‚
â”‚    Posts â”‚ Comments â”‚ Reactions â”‚ Friends â”‚ Shares â”‚ Livestreams   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PPLP SCORING ENGINE                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 5 PILLARS OF LIGHT VERIFICATION                              â”‚   â”‚
â”‚  â”‚ 1. Service to Life (S)     - Phá»¥ng sá»± sá»± sá»‘ng               â”‚   â”‚
â”‚  â”‚ 2. Transparent Truth (T)   - ChÃ¢n tháº­t minh báº¡ch            â”‚   â”‚
â”‚  â”‚ 3. Healing & Love (H)      - Chá»¯a lÃ nh & yÃªu thÆ°Æ¡ng         â”‚   â”‚
â”‚  â”‚ 4. Long-term Value (V)     - ÄÃ³ng gÃ³p bá»n vá»¯ng              â”‚   â”‚
â”‚  â”‚ 5. Unity (U)               - Há»£p Nháº¥t                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                                        â”‚
â”‚                             â–¼                                        â”‚
â”‚  Light Score = BR Ã— Q Ã— I Ã— K Ã— Ux                                  â”‚
â”‚  (BaseReward Ã— Quality Ã— Impact Ã— Integrity Ã— UnityMultiplier)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ANGEL AI EVALUATION                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ - Content Quality Scoring (anti-spam, quality gate)         â”‚   â”‚
â”‚  â”‚ - Fraud Detection (sybil, bot, collusion)                   â”‚   â”‚
â”‚  â”‚ - Unity Impact Assessment                                    â”‚   â”‚
â”‚  â”‚ - Integrity Verification                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MINT AUTHORIZATION                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ If Light Score >= Threshold:                                 â”‚   â”‚
â”‚  â”‚   â†’ Generate EIP-712 Signature                               â”‚   â”‚
â”‚  â”‚   â†’ Call mintWithSignature() on FUN Money Contract          â”‚   â”‚
â”‚  â”‚   â†’ Record in light_actions table                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚  FUN Money Contract (Testnet):                                      â”‚
â”‚  0x1aa8DE8B1E4465C6d729E8564893f8EF823a5ff2                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Phase 1: Database Schema

### Báº£ng má»›i cáº§n táº¡o:

**1. `light_actions`** - Ghi nháº­n má»i hÃ nh Ä‘á»™ng táº¡o giÃ¡ trá»‹

| Column | Type | Description |
|--------|------|-------------|
| id | uuid | Primary key |
| user_id | uuid | FK â†’ profiles |
| action_type | text | 'post', 'comment', 'reaction', 'share', 'friend', 'livestream' |
| reference_id | uuid | ID cá»§a post/comment/etc |
| base_reward | numeric | BR theo action type |
| quality_score | numeric | Q (0.5-3.0) - ANGEL AI Ä‘Ã¡nh giÃ¡ |
| impact_score | numeric | I (0.5-5.0) - TÃ¡c Ä‘á»™ng cá»™ng Ä‘á»“ng |
| integrity_score | numeric | K (0-1.0) - Chá»‘ng gian láº­n |
| unity_score | numeric | U (0-100) - Äiá»ƒm Há»£p Nháº¥t |
| unity_multiplier | numeric | Ux (0.5-2.5) - Tá»« U |
| light_score | numeric | Final = BR Ã— Q Ã— I Ã— K Ã— Ux |
| is_eligible | boolean | Äá»§ Ä‘iá»u kiá»‡n mint |
| mint_status | text | 'pending', 'approved', 'minted', 'rejected' |
| mint_amount | numeric | FUN Money amount to mint |
| tx_hash | text | Blockchain tx hash |
| angel_evaluation | jsonb | ANGEL AI response |
| created_at | timestamptz | |

**2. `light_reputation`** - Danh tiáº¿ng Ãnh SÃ¡ng tÃ­ch lÅ©y

| Column | Type | Description |
|--------|------|-------------|
| user_id | uuid | PK, FK â†’ profiles |
| total_light_score | numeric | Tá»•ng Ä‘iá»ƒm tÃ­ch lÅ©y |
| tier | int | 0-3 (New â†’ Light Guardian) |
| daily_mint_cap | numeric | Cap theo tier |
| total_minted | numeric | Tá»•ng FUN Ä‘Ã£ mint |
| actions_count | int | Sá»‘ lÆ°á»£ng actions |
| avg_quality | numeric | Trung bÃ¬nh Quality Score |
| avg_integrity | numeric | Trung bÃ¬nh Integrity Score |
| last_action_at | timestamptz | |
| created_at | timestamptz | |

**3. `mint_epochs`** - Quáº£n lÃ½ epoch mint (chá»‘ng farm)

| Column | Type | Description |
|--------|------|-------------|
| id | uuid | Primary key |
| epoch_date | date | NgÃ y epoch |
| total_minted | numeric | Tá»•ng FUN mint trong ngÃ y |
| total_cap | numeric | Cap toÃ n há»‡ (cÃ³ thá»ƒ Ä‘iá»u chá»‰nh) |
| platform_pool | jsonb | Pool theo platform |
| created_at | timestamptz | |

---

## ğŸ”§ Phase 2: Edge Functions

### 1. `pplp-evaluate` - ANGEL AI Ä‘Ã¡nh giÃ¡ action

```typescript
// Input: { user_id, action_type, reference_id, content }
// Output: { quality, impact, integrity, unity, light_score, is_eligible }

// Flow:
// 1. Láº¥y activity data tá»« DB
// 2. Gá»i ANGEL AI API vá»›i prompt Ä‘Ã¡nh giÃ¡ theo 5 Pillars
// 3. Parse AI response â†’ Q, I, K, U scores
// 4. TÃ­nh Light Score = BR Ã— Q Ã— I Ã— K Ã— Ux
// 5. LÆ°u vÃ o light_actions
// 6. Tráº£ vá» káº¿t quáº£
```

**ANGEL AI Evaluation Prompt (Backend):**
```
Báº¡n lÃ  ANGEL AI - Light Oracle cá»§a FUN Ecosystem.

ÄÃ¡nh giÃ¡ hÃ nh Ä‘á»™ng sau theo 5 Pillars of Light:

ACTION TYPE: {action_type}
CONTENT: {content}
USER HISTORY: {user_stats}

Cho Ä‘iá»ƒm (JSON):
{
  "quality_score": 0.5-3.0,    // Cháº¥t lÆ°á»£ng ná»™i dung
  "impact_score": 0.5-5.0,     // TÃ¡c Ä‘á»™ng cá»™ng Ä‘á»“ng
  "integrity_score": 0-1.0,    // Äá»™ tin cáº­y (0=bot/spam)
  "unity_score": 0-100,        // Má»©c Ä‘á»™ táº¡o Há»£p Nháº¥t
  "reasoning": "..."           // Giáº£i thÃ­ch ngáº¯n
}
```

### 2. `pplp-mint-fun` - Mint FUN Money on-chain

```typescript
// Input: { user_id, light_action_id }
// Output: { success, tx_hash, amount }

// Flow:
// 1. Kiá»ƒm tra light_action is_eligible = true
// 2. Kiá»ƒm tra user daily cap chÆ°a vÆ°á»£t
// 3. Kiá»ƒm tra epoch cap chÆ°a vÆ°á»£t
// 4. Táº¡o EIP-712 signature (attester = bÃ© TrÃ­)
// 5. Gá»i smart contract mintWithSignature()
// 6. Cáº­p nháº­t light_actions.tx_hash
// 7. Cáº­p nháº­t light_reputation
```

### 3. `pplp-get-light-score` - Láº¥y Light Score cá»§a user

```typescript
// Input: { user_id }
// Output: { 
//   total_light_score, tier, daily_cap, 
//   today_minted, pending_actions, 
//   recent_actions: [...] 
// }
```

---

## ğŸ’¡ Phase 3: Frontend UI

### 1. Light Score Dashboard (trong Wallet hoáº·c Profile)

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒŸ LIGHT SCORE: 12,450                     Tier: Light Seeker â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 62%              â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š 5 PILLARS BREAKDOWN                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â˜€ï¸ Service to Life    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  80%                       â”‚â”‚
â”‚  â”‚ ğŸ” Transparent Truth  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘  70%                       â”‚â”‚
â”‚  â”‚ ğŸ’š Healing & Love     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘  90%                       â”‚â”‚
â”‚  â”‚ ğŸŒ± Long-term Value    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  60%                       â”‚â”‚
â”‚  â”‚ ğŸ¤ Unity              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  80%                       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  âš¡ FUN MONEY BALANCE                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Total Minted: 1,234 FUN    Pending: 500 FUN                 â”‚â”‚
â”‚  â”‚ Today: 234/500 FUN (Daily Cap)                              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“œ RECENT LIGHT ACTIONS                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âœ… Post "Chia sáº» vá» hÃ nh trÃ¬nh..." +120 FUN  2h ago        â”‚â”‚
â”‚  â”‚ âœ… Help @user123 with question    +50 FUN   5h ago         â”‚â”‚
â”‚  â”‚ â³ Comment on @angel post         Pending   1h ago         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  [ğŸŒŸ Claim Pending FUN Money]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ANGEL AI Chat Integration

Khi user há»i vá» Light Score hoáº·c mint FUN Money, ANGEL AI cÃ³ thá»ƒ:
- Giáº£i thÃ­ch Ä‘iá»ƒm sá»‘ cá»§a há»
- HÆ°á»›ng dáº«n cÃ¡ch cáº£i thiá»‡n
- Cho biáº¿t táº¡i sao action khÃ´ng Ä‘á»§ Ä‘iá»u kiá»‡n

---

## ğŸ”¢ Base Reward Configuration (FUN Profile)

| Action Type | Base Reward (BR) | Max/Day | Daily Cap |
|-------------|------------------|---------|-----------|
| Create Post | 100 FUN | 10 | 1,000 FUN |
| Receive Reaction | 10 FUN | 50 | 500 FUN |
| Receive Comment | 20 FUN | 50 | 1,000 FUN |
| Being Shared | 50 FUN | 10 | 500 FUN |
| Add Friend | 20 FUN | 10 | 200 FUN |
| Livestream (10-120min) | 200 FUN | 5 | 1,000 FUN |
| **New User Bonus** | 500 FUN | 1 | 500 FUN |

**Total Daily Cap: 5,000 FUN/user**

---

## ğŸ›¡ï¸ Anti-Fraud Measures

| Measure | Implementation |
|---------|----------------|
| Sybil Detection | ANGEL AI phÃ¡t hiá»‡n multiple accounts |
| Bot Detection | Integrity Score = 0 for automated behavior |
| Wash Contribution | Detect self-reaction, mutual farming |
| Rate Limits | Max actions per hour/day |
| Reputation Gating | New users cÃ³ cap tháº¥p |
| Cooldown | 1 hour cooldown cho claim |

---

## ğŸ“ Files Cáº§n Táº¡o/Sá»­a

### Database Migration (SQL)
- Táº¡o báº£ng `light_actions`
- Táº¡o báº£ng `light_reputation`
- Táº¡o báº£ng `mint_epochs`
- Táº¡o RLS policies
- Táº¡o RPC function `get_user_light_score`

### Edge Functions
| File | MÃ´ táº£ |
|------|-------|
| `supabase/functions/pplp-evaluate/index.ts` | ANGEL AI Ä‘Ã¡nh giÃ¡ action |
| `supabase/functions/pplp-mint-fun/index.ts` | Mint FUN Money on-chain |
| `supabase/functions/pplp-get-score/index.ts` | Láº¥y Light Score user |

### Frontend Components
| File | MÃ´ táº£ |
|------|-------|
| `src/components/wallet/LightScoreDashboard.tsx` | Dashboard hiá»ƒn thá»‹ Light Score |
| `src/components/wallet/LightActionHistory.tsx` | Lá»‹ch sá»­ Light Actions |
| `src/components/wallet/MintFunButton.tsx` | Button claim FUN Money |
| `src/hooks/useLightScore.ts` | Hook láº¥y data Light Score |
| `src/hooks/useMintFun.ts` | Hook mint FUN Money |

### Config Updates
| File | MÃ´ táº£ |
|------|-------|
| `supabase/config.toml` | ThÃªm edge functions má»›i |
| `src/config/pplp.ts` | Constants cho PPLP (Base Rewards, Caps, etc.) |

---

## ğŸ” Smart Contract Integration

**Contract Address (Testnet):** `0x1aa8DE8B1E4465C6d729E8564893f8EF823a5ff2`

**Attester:** Äá»‹a chá»‰ vÃ­ cá»§a bÃ© TrÃ­ (Ä‘Ã£ Ä‘Æ°á»£c thÃªm trong contract)

**Mint Flow:**
```
1. User action â†’ pplp-evaluate â†’ Light Score calculated
2. If eligible â†’ pplp-mint-fun creates EIP-712 signature
3. Edge function calls mintWithSignature(to, amount, signature)
4. Contract verifies attester signature â†’ mints FUN Money
```

---

## â±ï¸ Thá»i Gian Triá»ƒn Khai

| Phase | CÃ´ng viá»‡c | Thá»i gian |
|-------|-----------|-----------|
| Phase 1 | Database Schema + RLS | 1-2 ngÃ y |
| Phase 2 | Edge Functions (evaluate, mint, get-score) | 2-3 ngÃ y |
| Phase 3 | Frontend UI (Dashboard, History, Button) | 2-3 ngÃ y |
| Phase 4 | Testing & Integration | 1-2 ngÃ y |
| **Total** | | **~7-10 ngÃ y** |

---

## âœ… Káº¿t Quáº£ Mong Äá»£i

1. **ANGEL AI tá»± Ä‘á»™ng Ä‘Ã¡nh giÃ¡** má»i hoáº¡t Ä‘á»™ng cá»§a user
2. **Light Score Ä‘Æ°á»£c tÃ­nh** theo cÃ´ng thá»©c PPLP
3. **User cÃ³ thá»ƒ claim FUN Money** khi Ä‘á»§ Ä‘iá»u kiá»‡n
4. **On-chain mint** lÃªn BSC Testnet
5. **Chá»‘ng farm hiá»‡u quáº£** vá»›i Integrity Score + Daily Caps
6. **UI Ä‘áº¹p** hiá»ƒn thá»‹ Light Score vÃ  5 Pillars

---

## ğŸ”® Future Enhancements (Phase 2+)

- Witness SBT (nhÃ¢n chá»©ng kÃ½ xÃ¡c nháº­n)
- Partner Validator Registry
- ZK Attestations (báº£o máº­t)
- Cross-platform scoring (FUN Academy, FUN Charity...)
- Light Reputation Badges (Soulbound NFT)
- Staking for Trust (Ä‘áº·t cá»c CAMLY Ä‘á»ƒ tÄƒng cap)
